import os

masspoints =[
[0.2113,3.16974071429],
[0.24,3.15094083333],
[0.26,3.164873125],
[0.3,3.153],
[0.33,3.16802684211],
[0.36,3.160332],
[0.4,3.15017238095],
[0.43,3.15624176471],
[0.46,3.18822352941],
[0.5,3.19246933333],
[0.53,3.26830307692],
[0.56,3.30688692308],
[0.6,3.287213],
[0.7,3.2559525],
[0.8,4.97948647059],
[0.88,3.25090384615],
[0.9,3.17403166667],
[0.91,3.15584090909],
[0.92,3.18351882353],
[0.93,3.18278666667],
[0.94,3.18058473684],
[1.0,3.19010555556],
[1.1,3.18392],
[1.2,3.87639052632],
[1.3,3.3804475],
[1.4,4.97678428571],
[1.5,3.478336],
[1.6,3.21092428571],
[1.7,3.16422214286],
[1.8,3.36318190476],
[1.9,3.78453222222],
[2.0,3.36736],
[2.1,3.204282],
[2.2,3.207873125],
[2.3,3.7348315],
[2.4,4.28794071429],
[2.5,3.33356764706],
[2.6,3.24123583333],
[2.7,3.63779928571],
[2.8,5.0874],
[2.9,5.28966545455],
[3.0,7.00826444444],
[3.02,7.78895363636],
[3.05,8.55555666667],
[3.08,9.152879375],
[3.09,9.190498125],
[3.1,9.15600642857],
[3.12,8.91841666667],
[3.15,8.08752625],
[3.2,6.557825625],
[3.3,5.01724235294],
[3.4,3.26105066667],
[3.7,3.21871333333],
[4.0,3.17041055556],
[5.0,3.19344692308],
[6.0,3.19138307692],
[7.0,3.18332],
[8.0,3.16727705882],
[8.5,3.20162],
]

'''
combine -n .H2A4Mu_mA_3.1000_GeV_Asimov_29 -m 125 -M AsymptoticLimits --toysFrequentist --cl 0.95 -s -1 --run blind Datacards/datacard_H2A4Mu_mA_3.1000_GeV.txt > macros/sh/OutPut_3.1000_Asimov_29.txt
'''

for mass in masspoints:
    #print mass[0]
    mass_string = "%.4f"%(mass[0])
    #print mass_string
    combine_command = "combine -n .H2A4Mu_mA_%s_GeV_Asimov_29 -m 125 -M AsymptoticLimits --toysFrequentist --cl 0.95 -s -1 --run blind Datacards/datacard_H2A4Mu_mA_%s_GeV.txt > macros/sh/OutPut_%s_Asimov_29_20181002_SD.txt"%(mass_string, mass_string, mass_string)
    #print combine_command
    os.system(combine_command)

    ## get the data from the output file
    result = os.popen('grep "Expected 50.0" macros/sh/OutPut_%s_Asimov_29_20181002_SD.txt'%(mass_string)).read()
    ## remove traling \n
    print "[", mass_string, ",", result.rstrip(), "]"
#    break

